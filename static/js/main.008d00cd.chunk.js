(this["webpackJsonpproduct-hunt"]=this["webpackJsonpproduct-hunt"]||[]).push([[0],{21:function(e,t,n){e.exports={Header:"NavBar_Header__2B9tv",NavAside:"NavBar_NavAside__tPXaJ",Logo:"NavBar_Logo__36Nyi",Initial:"NavBar_Initial__3PHx9",NavButtons:"NavBar_NavButtons__2IRBQ"}},23:function(e,t,n){e.exports={Input:"Input_Input__xHPk9",InputElement:"Input_InputElement__1TsV4",Label:"Input_Label__1BJHL",Small:"Input_Small__3f9_S"}},24:function(e,t,n){e.exports={FormContainer:"SignIn_FormContainer__3izq7",SignInForm:"SignIn_SignInForm__32ZE0",ButtonContainer:"SignIn_ButtonContainer__15kAR",Small:"SignIn_Small__3iPIA"}},26:function(e,t,n){e.exports={SignUpContainer:"SignUp_SignUpContainer__3fuMp",SignUpForm:"SignUp_SignUpForm__TirGk",ButtonContainer:"SignUp_ButtonContainer__1iK4W"}},27:function(e,t,n){e.exports={formContainer:"PostProduct_formContainer__1b4qd",ProductForm:"PostProduct_ProductForm__2nMlS",ButtonContainer:"PostProduct_ButtonContainer__nnP-a"}},43:function(e,t,n){e.exports={Products:"Products_Products__1XqWs"}},46:function(e,t,n){e.exports={Loader:"Spinner_Loader__yXb3S",load2:"Spinner_load2__GH1ff"}},47:function(e,t,n){e.exports={Button:"Button_Button__KpCjc"}},48:function(e,t,n){e.exports={Main:"Layout_Main__27TJZ"}},49:function(e,t,n){e.exports={NavItems:"NavItems_NavItems__2gxqj"}},50:function(e,t,n){e.exports={NavItem:"NavItem_NavItem__223Zg"}},51:function(e,t,n){e.exports={SignIn:"NavButton_SignIn__2qjT8",SignUp:"NavButton_SignUp__2d9GB"}},57:function(e,t,n){},7:function(e,t,n){e.exports={Product:"Product_Product__2P1J5",ProductImgCountainer:"Product_ProductImgCountainer__2aTV5",Initial:"Product_Initial__Qn4Dd",ProductInfo:"Product_ProductInfo__1PUEH",Title:"Product_Title__1BL1r",Caption:"Product_Caption__XvsdN",Number:"Product_Number__ASgP7",Topics:"Product_Topics__3MlTa",ProductCommentSection:"Product_ProductCommentSection__3Yqlm",ProductComment:"Product_ProductComment__3qq7B",ProductVote:"Product_ProductVote__1ec_s"}},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),i=n.n(o),c=n(12),s=(n(57),n(13)),l=n(14),u=n(16),d=n(15),p=n(43),m=n.n(p),j=n(5),b=n(17),h=n.n(b),g=n(52),f=n(7),v=n.n(f),O=n.p+"static/media/comment.879cb292.svg",_=n.p+"static/media/arrow_up.3111010d.svg",x=n(1),S=function(e){var t,n=null;return e.thumbnail&&(n=Object(x.jsx)("div",{className:v.a.Initial,children:Object(x.jsx)("h2",{children:(t=e.title,Object(g.a)(t,1)[0])})})),Object(x.jsxs)("div",{className:v.a.Product,children:[Object(x.jsx)("div",{className:v.a.ProductImgCountainer,children:n}),Object(x.jsxs)("div",{className:v.a.ProductInfo,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:v.a.Title,children:e.title}),Object(x.jsx)("p",{className:v.a.Caption,children:e.caption})]}),Object(x.jsxs)("div",{className:v.a.ProductCommentSection,children:[Object(x.jsxs)("div",{className:v.a.ProductComment,children:[Object(x.jsx)("img",{src:O,alt:"Comment"}),Object(x.jsx)("p",{className:v.a.Number,children:e.comments})]}),Object(x.jsx)("div",{className:v.a.ProductCategory,children:Object(x.jsx)("p",{className:v.a.Topics,children:e.topics})})]})]}),Object(x.jsxs)("div",{className:v.a.ProductVote,children:[Object(x.jsx)("img",{src:_,alt:"Vote"}),Object(x.jsx)("p",{className:v.a.Number,children:e.total_upvotes})]})]})},P="REDIRECT",C="RESET_REDIRECT",N="AUTH_SUCCESSFUL",y="AUTH_FAIL",I=function(e){return{type:P,redirectLink:e}},k=function(){return{type:C}},F=function(e){return{type:N,token:e}},T=n(46),U=n.n(T),w=function(){return Object(x.jsx)("div",{className:U.a.Loader,children:"Loading...."})},B=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={products:[],loading:!1},e.topicsHandler=function(e){var t={1:"IT and Software",2:"Design",3:"Personal Development",4:"Marketing",5:"Music",6:"Cloud"};for(var n in t)if(n===e)return t[n]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.onResetRedirected(),this.setState({loading:!0}),h.a.get("https://restapi-4u.herokuapp.com").then((function(t){console.log(t),e.setState({products:t.data}),e.setState({loading:!1})})).catch((function(t){e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loading?Object(x.jsx)(w,{}):Object(x.jsx)("div",{className:m.a.Products,children:this.state.products.map((function(t){return Object(x.jsx)(S,{title:t.name,caption:t.caption,thumbnail:t.thumbnail,topics:e.topicsHandler(t.topics[0]),total_upvotes:t.total_upvotes,comments:t.comments},t.id)}))})}}]),n}(a.Component),E=Object(j.b)(null,(function(e){return{onResetRedirected:function(){return e(k())}}}))(B),L=n(2),H=n(4),R=n(18),D=(n(42),n(26)),A=n.n(D),q=n(23),V=n.n(q),M=function(e){var t=null,n=[V.a.InputElement];switch(e.elementType){case"input":t=Object(x.jsx)("input",Object(L.a)(Object(L.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(x.jsx)("textarea",Object(L.a)(Object(L.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"file":t=Object(x.jsx)("input",Object(L.a)(Object(L.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(x.jsx)("select",{className:n.join(" "),onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(x.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))});break;default:t=Object(x.jsx)("input",Object(L.a)(Object(L.a)({className:n.join(" ")},e.elementConfig),{},{value:e.value}))}return Object(x.jsxs)("div",{className:V.a.Input,children:[Object(x.jsxs)("label",{className:V.a.Label,children:[" ",e.label," "]}),t,Object(x.jsx)("small",{className:V.a.Small,children:e.errmsg})]})},X=n(47),J=n.n(X),Y=function(e){return Object(x.jsx)("button",{className:J.a.Button,children:e.children})},G=function(e){return e.children};R.b.configure();var Z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={signUpForm:{username:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name",required:!0},value:"",errmsg:"",label:"Username"},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your Email",required:!0},value:"",errmsg:"",label:"Email"},email2:{elementType:"input",elementConfig:{type:"email",placeholder:"Confirm Email",required:!0},value:"",errmsg:"",label:"Confirm Email"},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password",required:!0},value:"",errmsg:"",label:"Password"}},loading:!1},e.onchangeHandler=function(t,n){var a=Object(L.a)({},e.state.signUpForm),r=Object(L.a)({},a[n]);r.value=t.target.value,r.errmsg="",a[n]=r,e.setState({signUpForm:a})},e.onSubmitHandler=function(t){t.preventDefault();var n=e.state.signUpForm.password.value,a=e.state.signUpForm.email2.value,r=e.state.signUpForm.email.value,o=Object(L.a)({},e.state.signUpForm);if(n.length<8||r!==a){if(n.length<8){var i=Object(L.a)({},o.password);i.errmsg="Password must be up to 8 characters or more",o.password=i,e.setState({signUpForm:o})}if(r!==a){var c=Object(L.a)({},o.confirmEmail);c.errmsg="Must match with Email",o.confirmEmail=c,e.setState({signUpForm:o})}}else{var s={username:e.state.signUpForm.username.value,email:e.state.signUpForm.email.value,email2:e.state.signUpForm.email2.value,password:e.state.signUpForm.password.value};e.setState({loading:!0}),h.a.post("https://restapi-4u.herokuapp.com/register/",s).then((function(t){e.notify(),setTimeout((function(){e.setState({loading:!1}),e.props.onRedirect("./signin")}),5e3)})).catch((function(t){e.setState({loading:!1}),t.response.data&&e.errorHandler(t.response.data)}))}},e.errorHandler=function(t){for(var n in t){var a=Object(L.a)({},e.state.signUpForm),r=Object(L.a)({},a[n]);r.errmsg=t[n],a[n]=r,e.setState({signUpForm:a})}},e.notify=function(){return R.b.success("REGISTRATION SUCCESSFUL!! ")},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.signUpForm)t.push({id:n,config:this.state.signUpForm[n]});var a=null;a=this.state.loading?Object(x.jsx)(w,{}):Object(x.jsxs)(G,{children:[t.map((function(t){return Object(x.jsx)(M,{value:t.config.value,changed:function(n){return e.onchangeHandler(n,t.id)},elementConfig:t.config.elementConfig,elementType:t.config.elementType,label:t.config.label,errmsg:t.config.errmsg},t.id)})),Object(x.jsx)("div",{className:A.a.ButtonContainer,children:Object(x.jsx)(Y,{children:"Sign Up"})})]});var r=Object(x.jsxs)("form",{className:A.a.SignUpForm,onSubmit:this.onSubmitHandler,children:[Object(x.jsx)("h2",{children:"Sign Up"}),a]}),o=null;return this.props.redirected&&(o=Object(x.jsx)(H.a,{to:this.props.redirectlink})),Object(x.jsxs)("div",{className:A.a.SignUpContainer,children:[o,r,Object(x.jsx)(R.a,{})]})}}]),n}(a.Component),z=Object(j.b)((function(e){return{redirectlink:e.redirectLink,redirected:e.redirected}}),(function(e){return{onRedirect:function(t){return e(I(t))}}}))(Z),K=n(48),Q=n.n(K),W=n(21),$=n.n(W),ee=n(49),te=n.n(ee),ne=n(50),ae=n.n(ne),re=function(e){return Object(x.jsx)("li",{className:ae.a.NavItem,children:Object(x.jsx)(c.b,{to:e.link,children:e.children})})},oe=function(e){return Object(x.jsxs)("ul",{className:te.a.NavItems,children:[Object(x.jsx)(re,{link:"/",children:"Products"}),Object(x.jsx)(re,{link:"/post-product",children:"Post Product"})]})},ie=n(51),ce=n.n(ie),se=function(e){return Object(x.jsx)(c.b,{className:ce.a[e.styleName],to:e.link,children:e.children})},le=Object(j.b)((function(e){return{authenticated:e.authenticated}}))((function(e){var t=null;return e.authenticated||(t=Object(x.jsxs)("div",{className:$.a.NavButtons,children:[Object(x.jsx)(se,{link:"/signin",styleName:"SignIn",children:"Sign In"}),Object(x.jsx)(se,{link:"/signup",styleName:"SignUp",children:"Sign Up"})]})),Object(x.jsxs)("header",{className:$.a.Header,children:[Object(x.jsxs)("div",{className:$.a.NavAside,children:[Object(x.jsxs)("div",{className:$.a.Logo,children:[Object(x.jsx)("div",{className:$.a.Initial,children:Object(x.jsx)("h1",{children:"P"})}),Object(x.jsx)("h1",{children:"Hunt"})]}),Object(x.jsx)(oe,{})]}),t]})})),ue=function(e){return Object(x.jsxs)(G,{children:[Object(x.jsx)(le,{}),Object(x.jsx)("main",{className:Q.a.Main,children:e.children})]})},de=n(27),pe=n.n(de);R.b.configure();var me=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={productForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Product Name",required:!0},value:"",label:"Product Name:"},url:{elementType:"input",elementConfig:{type:"url",placeholder:"Product Url",required:!0},value:"",label:"Product Url:"},caption:{elementType:"input",elementConfig:{type:"text",placeholder:"Product Caption",required:!0},value:"",label:"Product Caption:"},download_link:{elementType:"input",elementConfig:{type:"url",placeholder:"Product Download Link"},value:"",label:"Product Download Link:"},status:{elementType:"select",elementConfig:{options:[{value:"S",displayValue:"Private"},{value:"P",displayValue:"Public"},{value:"I",displayValue:"In Progress"}]},value:"S",label:"Product Status:"},topics:{elementType:"select",elementConfig:{options:[{value:"1",displayValue:"IT and Software"},{value:"2",displayValue:"Design"},{value:"3",displayValue:"Personal Development"},{value:"4",displayValue:"Marketing"},{value:"5",displayValue:"Music"},{value:"6",displayValue:"Cloud"}]},value:"1",label:"Product Topics:"},thumbnail:{elementType:"input",elementConfig:{type:"file",placeholder:"Product Thumbnail"},value:"",image:null,label:"Product Thumbnail:"},twitter_url:{elementType:"input",elementConfig:{type:"url",placeholder:"Twitter Url"},value:"",label:"Twitter Url:"},content:{elementType:"textarea",elementConfig:{placeholder:"Product Description",required:!0},value:"",label:"Product Description:"}},loading:!1},e.onchangeHandler=function(t,n){var a=Object(L.a)({},e.state.productForm),r=Object(L.a)({},a[n]);"thumbnail"===n?(r.image=t.target.files[0],r.value=t.target.value,a[n]=r,e.setState({productForm:a})):(r.value=t.target.value,a[n]=r,e.setState({productForm:a}))},e.onSubmitProduct=function(t){t.preventDefault(),e.setState({loading:!0});var n=new FormData;n.append("name",e.state.productForm.name.value),n.append("url",e.state.productForm.url.value),n.append("caption",e.state.productForm.caption.value),n.append("download_link",e.state.productForm.download_link.value),n.append("status",e.state.productForm.status.value),n.append("topics",[e.state.productForm.topics.value]),n.append("content",e.state.productForm.content.value),n.append("twitter_url",e.state.productForm.twitter_url.value),e.state.productForm.thumbnail.image&&n.append("thumbnail",e.state.productForm.thumbnail.image);h.a.post("https://restapi-4u.herokuapp.com/product/create/",n,{headers:{Authorization:"token ".concat(e.props.token),"content-type":"multipart/form-data"}}).then((function(t){e.notify(),setTimeout((function(){e.setState({loading:!1}),e.props.onRedirect("/")}),5e3)})).catch((function(t){console.log(t),e.setState({loading:!1})}))},e.notify=function(){return R.b.success("Product Successfully Created!! ")},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.productForm)t.push({id:n,config:this.state.productForm[n]});var a=null;a=this.state.loading?Object(x.jsx)(w,{}):Object(x.jsxs)(G,{children:[t.map((function(t){return Object(x.jsx)(M,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.onchangeHandler(n,t.id)},label:t.config.label},t.id)})),Object(x.jsx)("div",{className:pe.a.ButtonContainer,children:Object(x.jsx)(Y,{children:"Create Product"})})]});var r=Object(x.jsxs)("form",{className:pe.a.ProductForm,onSubmit:this.onSubmitProduct,children:[Object(x.jsx)("h2",{children:"Create Product"}),a]}),o=null;return this.props.redirected&&(o=Object(x.jsx)(H.a,{to:this.props.redirectPath})),Object(x.jsxs)("div",{className:pe.a.formContainer,children:[o,r]})}}]),n}(a.Component),je=Object(j.b)((function(e){return{token:e.token,redirectPath:e.redirectLink,redirected:e.redirected}}),(function(e){return{onRedirect:function(t){return e(I(t))}}}))(me),be=n(24),he=n.n(be),ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={signInForm:{username:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Username",required:!0},value:""},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Your Password",required:!0},value:""}},errmsg:"",loading:!1},e.errorHandler=function(t){var n=e.state.errmsg;n=t,e.setState({errmsg:n})},e.onchangeHandler=function(t,n){e.state.errmsg;var a=Object(L.a)({},e.state.signInForm),r=Object(L.a)({},a[n]);r.value=t.target.value,a[n]=r,e.setState({signInForm:a}),e.setState({errmsg:""})},e.onSubmitHandler=function(t){t.preventDefault(),e.setState({loading:!0});var n={username:e.state.signInForm.username.value,password:e.state.signInForm.password.value};h.a.post("https://restapi-4u.herokuapp.com/login/",n).then((function(t){localStorage.setItem("token",t.data.token),e.props.onAuthSuccessfull(t.data.token),e.setState({loading:!1}),e.props.onRedirect("/")})).catch((function(t){e.setState({loading:!1}),e.errorHandler(t.response.data.non_field_errors[0])}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onRedirectReset()}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.signInForm)t.push({id:n,config:this.state.signInForm[n]});var a=null;a=this.state.loading?Object(x.jsx)(w,{}):Object(x.jsxs)(G,{children:[t.map((function(t){return Object(x.jsx)(M,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,label:t.id,changed:function(n){return e.onchangeHandler(n,t.id)}},t.id)})),Object(x.jsx)("small",{className:he.a.Small,children:this.state.errmsg}),Object(x.jsx)("div",{className:he.a.ButtonContainer,children:Object(x.jsx)(Y,{children:"Sign In"})})]});var r=null;this.props.redirected&&(r=Object(x.jsx)(H.a,{to:this.props.redirectlink}));var o=Object(x.jsxs)("form",{className:he.a.SignInForm,onSubmit:this.onSubmitHandler,children:[Object(x.jsx)("h2",{children:"Sign In"}),a]});return Object(x.jsxs)("div",{className:he.a.FormContainer,children:[r,o]})}}]),n}(a.Component),fe=Object(j.b)((function(e){return{redirectlink:e.redirectLink,redirected:e.redirected}}),(function(e){return{onRedirectReset:function(){return e(k())},onRedirect:function(t){return e(I(t))},onAuthSuccessfull:function(t){return e(F(t))}}}))(ge),ve=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("token")?""===this.props.token&&this.props.onAuthSuccessful(localStorage.getItem("token")):this.props.onAuthFail()}},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(ue,{children:Object(x.jsxs)(H.d,{children:[Object(x.jsx)(H.b,{path:"/post-product",component:je}),Object(x.jsx)(H.b,{path:"/signup",component:z}),Object(x.jsx)(H.b,{path:"/signin",component:fe}),Object(x.jsx)(H.b,{path:"/",exact:!0,component:E})]})})})}}]),n}(a.Component),Oe=Object(j.b)((function(e){return{token:e.token}}),(function(e){return{onAuthSuccessful:function(t){return e(F(t))},onAuthFail:function(){return e({type:y})}}}))(ve),_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))},xe=n(25),Se={redirectLink:"/",redirected:!1,token:"",authenticated:!1},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(L.a)(Object(L.a)({},e),{},{redirectLink:t.redirectLink,redirected:!0});case C:return Object(L.a)(Object(L.a)({},e),{},{redirectLink:"/",redirected:!1});case N:return Object(L.a)(Object(L.a)({},e),{},{token:t.token,authenticated:!0});case y:return Object(L.a)(Object(L.a)({},e),{},{token:"",authenticated:!1});default:return e}},Ce=Object(xe.b)(Pe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(j.a,{store:Ce,children:Object(x.jsx)(c.a,{children:Object(x.jsx)(Oe,{})})})}),document.getElementById("root")),_e()}},[[86,1,2]]]);
//# sourceMappingURL=main.008d00cd.chunk.js.map